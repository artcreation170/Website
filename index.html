<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Art and Creation</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <!-- Bootstrap CSS (for carousel) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- YouTube subscribe widget (load async) -->
  <script src="https://apis.google.com/js/platform.js" async></script>
  <style>
    /* Social icon styles */
    .social-inline { display:flex; gap:10px; align-items:center; }
    .social-btn { display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:8px; background:#fff; box-shadow:0 2px 8px rgba(0,0,0,0.08); text-decoration:none; color:#111; }
    .social-icon { width:20px; height:20px; display:inline-block }
  </style>
  <!-- Razorpay Checkout Script (deferred) -->
  <script src="https://checkout.razorpay.com/v1/checkout.js" defer></script>
  <script src="https://cdn.emailjs.com/dist/email.min.js" defer></script>
  <script>
    // Initialize emailjs after DOM is ready (emailjs script is deferred)
    document.addEventListener('DOMContentLoaded', function(){
      if (window.emailjs && typeof emailjs.init === 'function') {
        emailjs.init("YOUR_USER_ID"); // Replace with your EmailJS user ID
      }
    });
  </script>
</head>
<body class="bg-gray-50 font-sans">

  <!-- Header -->
  <header class="bg-white shadow">
    <div class="container mx-auto px-6 py-4 flex justify-between items-center">
      <div class="flex items-center">
        <img src="logo.jpg" alt="Art and Creation Logo" class="h-12 w-12 mr-3 rounded-full object-cover bg-white" loading="lazy">
        <h1 class="text-2xl font-bold text-pink-600">Art and Creation</h1>
      </div>
      <nav class="flex items-center">
        <a href="#home" class="text-gray-700 px-4 flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house-door-fill" viewBox="0 0 16 16">
  <path d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5"/>
</svg>Home</a>
        <a href="#products" class="text-gray-700 px-4 flex items-center">Shop</a>
        <a href="#about" class="text-gray-700 px-4 flex items-center">About</a>
        <a href="#contact" class="text-gray-700 px-4 flex items-center">Contact</a>

      </nav>
    </div>
  </header>

  <!-- Hero Section -->
  <section id="home" class="text-center py-16 bg-pink-100">
    <h2 class="text-4xl font-bold text-gray-800 mb-4">Unique Handmade Crafts</h2>
    <p class="text-lg text-gray-600 mb-6">Made with love and creativity, delivered to your doorstep.</p>
    <a href="#products" class="bg-pink-600 text-white px-6 py-3 rounded shadow hover:bg-pink-700">Shop Now</a>
  </section>

  <!-- Products Section -->
  <section id="products" class="py-16 bg-white">
    <div class="container mx-auto px-6">
      <h3 class="text-3xl font-bold text-center text-gray-800 mb-10">Products</h3>

      <!-- Products grid (carousel removed) -->
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">

        <!-- Product Card 1 -->
        <div class="bg-white shadow-md rounded-xl overflow-hidden text-center">
          <img src="./images/product1/image1.jpg" alt="Mandala Photoframe" class="h-48 w-full mx-auto mt-6 rounded-lg object-cover" loading="lazy" onerror="this.onerror=null;this.src='./images/placeholder.svg'" />
          <div class="p-6">
            <h4 class="text-xl font-bold text-gray-700">Mandala Photoframe</h4>
            <p class="text-pink-600 font-semibold mt-2">â‚¹499</p>
            <a href="product.html?id=1" class="inline-block mt-4 bg-pink-600 text-white px-4 py-2 rounded hover:bg-pink-700">View Product</a>
          </div>
        </div>

        <!-- Product Card 2 -->
        <div class="bg-white shadow-md rounded-xl overflow-hidden text-center">
          <img src="./images/product2/image1.jpg" alt="Customized Gift Hamper" class="h-48 w-full mx-auto mt-6 rounded-lg object-cover" loading="lazy" onerror="this.onerror=null;this.src='./images/placeholder.svg'" />
          <div class="p-6">
            <h4 class="text-xl font-bold text-gray-700">Customized Gift Hamper</h4>
            <p class="text-pink-600 font-semibold mt-2">â‚¹399</p>
            <a href="product.html?id=2" class="inline-block mt-4 bg-pink-600 text-white px-4 py-2 rounded hover:bg-pink-700">View Product</a>
          </div>
        </div>

        <!-- Product Card 3 -->
        <div class="bg-white shadow-md rounded-xl overflow-hidden text-center">
          <img src="./images/product3/image1.jpg" alt="String Ar" class="h-48 w-full mx-auto mt-6 rounded-lg object-cover" loading="lazy" onerror="this.onerror=null;this.src='./images/placeholder.svg'" />
          <div class="p-6">
            <h4 class="text-xl font-bold text-gray-700">String Art</h4>
            <p class="text-pink-600 font-semibold mt-2">â‚¹599</p>
            <a href="product.html?id=3" class="inline-block mt-4 bg-pink-600 text-white px-4 py-2 rounded hover:bg-pink-700">View Product</a>
          </div>
        </div>

        <!-- Product Card 4 -->
        <div class="bg-white shadow-md rounded-xl overflow-hidden text-center">
          <img src="./images/product4/image1.jpg" alt="Butterfly Keyring" class="h-48 w-full mx-auto mt-6 rounded-lg object-cover" loading="lazy" onerror="this.onerror=null;this.src='./images/placeholder.svg'" />
          <div class="p-6">
            <h4 class="text-xl font-bold text-gray-700">Butterfly Keyring</h4>
            <p class="text-pink-600 font-semibold mt-2">â‚¹699</p>
            <a href="product.html?id=4" class="inline-block mt-4 bg-pink-600 text-white px-4 py-2 rounded hover:bg-pink-700">View Product</a>
          </div>
        </div>

        <!-- Product Card 5 -->
        <div class="bg-white shadow-md rounded-xl overflow-hidden text-center">
          <img src="./images/product5/image1.jpg" alt="Customized String Art" class="h-48 w-full mx-auto mt-6 rounded-lg object-cover" loading="lazy" onerror="this.onerror=null;this.src='./images/placeholder.svg'" />
          <div class="p-6">
            <h4 class="text-xl font-bold text-gray-700">Customized String Art</h4>
            <p class="text-pink-600 font-semibold mt-2">â‚¹450</p>
            <a href="product.html?id=5" class="inline-block mt-4 bg-pink-600 text-white px-4 py-2 rounded hover:bg-pink-700">View Product</a>
          </div>
        </div>

        <!-- Product Card 6 -->
        <div class="bg-white shadow-md rounded-xl overflow-hidden text-center">
          <img src="./images/product6/image1.jpg" alt="Ganesh Art" class="h-48 w-full mx-auto mt-6 rounded-lg object-cover" loading="lazy" />
          <div class="p-6">
            <h4 class="text-xl font-bold text-gray-700">Ganesha Lippan Art</h4>
            <p class="text-pink-600 font-semibold mt-2">â‚¹349</p>
            <a href="product.html?id=6" class="inline-block mt-4 bg-pink-600 text-white px-4 py-2 rounded hover:bg-pink-700">View Product</a>
          </div>
        </div>
         
        <!-- Product Card 7 -->
          <div class="bg-white shadow-md rounded-xl overflow-hidden text-center">
          <img src="./images/product7/image1.jpeg" alt="Dream Catcher Wall Hanging" class="h-48 w-full mx-auto mt-6 rounded-lg object-cover" loading="lazy" />
          <div class="p-6">
            <h4 class="text-xl font-bold text-gray-700">Dream Catcher Wall Hanging</h4>
            <p class="text-pink-600 font-semibold mt-2">â‚¹349</p>
            <a href="product.html?id=7" class="inline-block mt-4 bg-pink-600 text-white px-4 py-2 rounded hover:bg-pink-700">View Product</a>
          </div>
        </div>
        <!-- Products 8 -->
           <div class="bg-white shadow-md rounded-xl overflow-hidden text-center">
          <img src="./images/product8/image1.jpg" alt="Thread Lamp" class="h-48 w-full mx-auto mt-6 rounded-lg object-cover" loading="lazy" />
          <div class="p-6">
            <h4 class="text-xl font-bold text-gray-700">Thread Lamp</h4>
            <p class="text-pink-600 font-semibold mt-2">â‚¹349</p>
            <a href="product.html?id=8" class="inline-block mt-4 bg-pink-600 text-white px-4 py-2 rounded hover:bg-pink-700">View Product</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section id="about" class="py-16 bg-gray-100">
    <div class="container mx-auto px-6 text-center">
      <h3 class="text-3xl font-bold text-gray-800 mb-6">About Us</h3>
      <p class="text-gray-600 max-w-2xl mx-auto">
        Welcome to Art and Creation! We are a passionate team of artisans dedicated to bringing the beauty of handmade crafts to the world. Each piece in our collection is thoughtfully designed and meticulously crafted, blending traditional techniques with modern creativity. Our mission is to share the warmth, uniqueness, and soul of handmade art with customers across the globe. Whether youâ€™re looking for a special gift or a unique addition to your home, our crafts are made to inspire and delight. Thank you for supporting handmade and helping us keep this beautiful tradition alive worldwide.
      </p>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contact" class="py-16 bg-white">
    <div class="container mx-auto px-6 text-center">
      <h3 class="text-3xl font-bold text-gray-800 mb-6">Contact Us</h3>
      <p class="text-gray-600 mb-4">Have a question or custom request? Click the button below to fill out our form!</p>
      <a href="https://forms.gle/Z6xqWiddAmz4Vhdz9" target="_blank" class="bg-pink-600 text-white px-6 py-3 rounded shadow hover:bg-pink-700 transition inline-block">Open Contact Form</a>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white text-center py-6">
    <div class="container mx-auto px-6">
      <div class="flex flex-col md:flex-row items-center justify-between gap-4">
        <div class="text-left">
          <h5 class="font-bold text-white">Stay connected</h5>
          <p class="text-sm text-gray-300">Follow us on YouTube and Instagram for new products, behind-the-scenes and offers.</p>
        </div>
        <div class="flex items-center gap-3">
          <!-- YouTube subscribe (small) -->
          <a href="https://youtube.com/@artcreationofficial?si=T8Jgbw3sUVNPTcwi" target="_blank" class="social-btn bg-transparent text-white" title="Subscribe on YouTube">
            <svg class="social-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M23 7s-.2-1.6-.8-2.3c-.8-.9-1.7-.9-2.1-1C17.7 3 12 3 12 3s-5.7 0-8.1.7c-.4.1-1.3.1-2.1 1C1.2 5.4 1 7 1 7S1 8.8 1 10.6v2.8C1 15.2 1.2 17 1.2 17s.2 1.6.8 2.3c.8.9 1.9.9 2.4 1C6.3 21 12 21 12 21s5.7 0 8.1-.7c.4-.1 1.3-.1 2.1-1 .6-.7.8-2.3.8-2.3s.2-1.8.2-3.6V10.6C23 8.8 23 7 23 7z" stroke="#fff" stroke-width="0" fill="#FF0000"/><path d="M10 15l5-3-5-3v6z" fill="#fff"/></svg>
            <span class="text-sm">YouTube</span>
          </a>
          <!-- Instagram preview links -->
          <a href="https://www.instagram.com/_art_n_creations?igsh=eG9yMXVsMHA2NXZy" target="_blank" class="social-btn bg-transparent text-white">
            <svg class="social-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5z" stroke="#fff" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="12" cy="12" r="3" stroke="#fff" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/><path d="M17.5 6.5h.01" stroke="#fff" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
            <span class="text-sm">Follow on Instagram</span>
          </a>
        </div>
      </div>
      <p class="mt-4">&copy; 2025 Art and Creation. All rights reserved.</p>
    </div>
  </footer>

  <!-- Razorpay Payment Script -->
  <script>
async function payNow(product, amountRupees) {
  const amountPaise = Math.round(Number(amountRupees) * 100);
  try {
    const res = await fetch('/api/create-order', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ amountPaise })
    });
    const json = await res.json();
    if (!res.ok || !json.id) { alert('Order creation failed'); return; }
    const options = {
      key: json.key, // returned public key_id
      amount: json.amount,
      currency: json.currency,
      name: 'Art and Creation',
      description: product,
      order_id: json.id,
      handler: function(response){
        // send response.razorpay_payment_id and order info to your server to verify & finalize
        fetch('/api/verify-payment', {
          method: 'POST',
          headers: {'Content-Type':'application/json'},
          body: JSON.stringify({ razorpay_payment_id: response.razorpay_payment_id, razorpay_order_id: response.razorpay_order_id, razorpay_signature: response.razorpay_signature })
        });
        alert('Payment success: ' + response.razorpay_payment_id);
      },
      prefill: { name: '', email: '' },
      theme: { color: '#ec4899' }
    };
    new Razorpay(options).open();
  } catch (err) {
    console.error(err);
    alert('Network/server error creating order');
  }
}
  </script>

  <!-- In-Page Chatbot Widget with Google Form Submission -->
<style>
#inpage-chatbot-toggle {
  position: fixed;
  bottom: 90px;
  right: 24px;
  background: #ec4899;
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 56px;
  height: 56px;
  font-size: 2rem;
  cursor: pointer;
  z-index: 1001;
  box-shadow: 0 4px 16px rgba(0,0,0,0.15);
  display: flex;
  align-items: center;
  justify-content: center;
}
#inpage-chatbot-widget {
  position: fixed;
  bottom: 160px;
  right: 24px;
  width: 340px;
  max-width: 90vw;
  background: #fff;
  border-radius: 1rem;
  box-shadow: 0 4px 32px rgba(0,0,0,0.15);
  z-index: 1000;
  display: none;
  flex-direction: column;
  overflow: hidden;
  font-family: inherit;
}
#inpage-chatbot-header {
  background: #ec4899;
  color: #fff;
  padding: 1rem;
  font-weight: bold;
  text-align: center;
}
#inpage-chatbot-messages {
  flex: 1;
  padding: 1rem;
  overflow-y: auto;
  max-height: 300px;
  font-size: 0.95rem;
}
#inpage-chatbot-input-area {
  display: flex;
  border-top: 1px solid #eee;
}
#inpage-chatbot-input {
  flex: 1;
  border: none;
  padding: 0.75rem;
  font-size: 1rem;
  outline: none;
}
#inpage-chatbot-send {
  background: #ec4899;
  color: #fff;
  border: none;
  padding: 0 1.25rem;
  cursor: pointer;
  font-size: 1rem;
  transition: background 0.2s;
}
#inpage-chatbot-send:hover {
  background: #be185d;
}
</style>

<button id="inpage-chatbot-toggle" title="Chat with us">ðŸ’¬</button>
<div id="inpage-chatbot-widget">
  <div id="inpage-chatbot-header">Chat with Us</div>
  <div id="inpage-chatbot-messages"></div>
  <div id="inpage-chatbot-input-area">
    <input id="inpage-chatbot-input" type="text" placeholder="Type your message..." autocomplete="off" />
    <button id="inpage-chatbot-send">Send</button>
  </div>
</div>
<script>
// Replace with your Google Form POST URL and field names
const GOOGLE_FORM_ACTION = "https://docs.google.com/forms/d/e/1FAIpQLSfTAJ12duyHuYMGAuYBLfqwhpJGkCgdoKgY7m_kiOH-4Jh5Og/formResponse";
const FIELD_NAME = "entry.1234567890";    // Name field
const FIELD_EMAIL = "entry.0987654321";   // Email field
const FIELD_PHONE = "entry.2233445566";   // Phone number field
const FIELD_PRODUCT = "entry.3344556677"; // Product specification field
const FIELD_QUERY = "entry.1122334455";   // Query field
const FIELD_IMAGE = "entry.4455667788";   // Image file field (for file upload)

const chatbotToggle = document.getElementById('inpage-chatbot-toggle');
const chatbotWidget = document.getElementById('inpage-chatbot-widget');
const chatbotMessages = document.getElementById('inpage-chatbot-messages');
const chatbotInput = document.getElementById('inpage-chatbot-input');
const chatbotSend = document.getElementById('inpage-chatbot-send');

let chatState = 0;
let userData = { name: "", email: "", phone: "", product: "", query: "", image: null };

chatbotToggle.onclick = () => {
  chatbotWidget.style.display = chatbotWidget.style.display === 'none' || chatbotWidget.style.display === '' ? 'flex' : 'none';
  if (chatbotWidget.style.display === 'flex' && chatbotMessages.childElementCount === 0) {
    appendMessage('Bot', "Hi! ðŸ‘‹ What's your name?");
  }
};

function appendMessage(sender, text) {
  const msg = document.createElement('div');
  msg.style.margin = '0.5em 0';
  msg.innerHTML = `<strong style="color:${sender==='You'?'#ec4899':'#333'}">${sender}:</strong> <span>${text}</span>`;
  chatbotMessages.appendChild(msg);
  chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
}

function validateEmail(email) {
  // Simple email validation
  return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
}

function validatePhone(phone) {
  // Simple phone validation (10-15 digits)
  return /^\d{10,15}$/.test(phone.replace(/\D/g, ""));
}

function botReply(userMsg) {
  if (chatState === 0) {
    userData.name = userMsg;
    appendMessage('Bot', "Nice to meet you, " + userData.name + "! What's your email?");
    chatState = 1;
  } else if (chatState === 1) {
    if (!validateEmail(userMsg)) {
      appendMessage('Bot', "Please enter a valid email address.");
      return;
    }
    userData.email = userMsg;
    appendMessage('Bot', "Thanks! Please enter your phone number.");
    chatState = 2;
  } else if (chatState === 2) {
    if (!validatePhone(userMsg)) {
      appendMessage('Bot', "Please enter a valid phone number (10-15 digits).");
      return;
    }
    userData.phone = userMsg;
    appendMessage('Bot', "What product are you interested in? Please specify.");
    chatState = 3;
  } else if (chatState === 3) {
    userData.product = userMsg;
    appendMessage('Bot', "Please describe your query or order details.");
    chatState = 4;
  } else if (chatState === 4) {
    userData.query = userMsg;
    appendMessage('Bot', "Thank you! Sending your query...");
    sendToGoogleForm(userData);
    chatState = 5;
  } else if (chatState === 5) {
    // Only process if user typed 'no'
    if (userMsg.trim().toLowerCase() === 'no') {
      userData.image = null;
      appendMessage('Bot', "Thank you! Sending your query...");
      sendToGoogleForm(userData);
      chatState = 6;
    } else {
      appendMessage('Bot', "If you want to upload an image, please use the file input above or type 'no' to skip.");
    }
  } else {
    appendMessage('Bot', "We've received your query. We'll get back to you soon!");
  }
}

function sendMessage() {
  const text = chatbotInput.value.trim();
  if (!text) return;
  appendMessage('You', text);
  chatbotInput.value = '';
  botReply(text);
}
chatbotSend.onclick = sendMessage;
chatbotInput.addEventListener('keydown', function(e) {
  if (e.key === 'Enter') sendMessage();
});

// Handle file upload for image (JPG only)
chatbotMessages.addEventListener('change', function(e) {
  if (e.target && e.target.id === 'chatbot-image-upload') {
    const file = e.target.files[0];
    if (file && /\.(jpe?g)$/i.test(file.name)) {
      userData.image = file;
      appendMessage('Bot', "Image received! Sending your query...");
      sendToGoogleForm(userData);
      chatState = 6;
    } else {
      appendMessage('Bot', "Please upload a JPG image only.");
    }
  }
});

function sendToGoogleForm(data) {
  // Ensure required fields
  if (!data.name || !validateEmail(data.email) || !validatePhone(data.phone)) {
    appendMessage('Bot', 'Please provide valid name, email and phone before submitting.');
    return;
  }

  // 1) Try submitting silently to Google Form (if action/entry IDs are set)
  try {
    if (GOOGLE_FORM_ACTION && GOOGLE_FORM_ACTION.includes('docs.google.com') &&
        FIELD_NAME.startsWith('entry.') && FIELD_EMAIL.startsWith('entry.')) {
      const f = document.createElement('form');
      f.method = 'POST';
      f.action = GOOGLE_FORM_ACTION;
      f.target = 'gf_iframe';
      f.style.display = 'none';

      const map = {};
      map[FIELD_NAME] = data.name;
      map[FIELD_EMAIL] = data.email;
      map[FIELD_PHONE] = data.phone;
      map[FIELD_PRODUCT] = data.product;
      map[FIELD_QUERY] = data.query;

      for (const k in map) {
        const i = document.createElement('input');
        i.type = 'hidden';
        i.name = k;
        i.value = map[k] || '';
        f.appendChild(i);
      }

      // ensure hidden iframe exists
      if (!document.querySelector('iframe[name="gf_iframe"]')) {
        const ifr = document.createElement('iframe');
        ifr.name = 'gf_iframe';
        ifr.style.display = 'none';
        document.body.appendChild(ifr);
      }

      document.body.appendChild(f);
      f.submit();
      setTimeout(()=>{ try{ document.body.removeChild(f); }catch(e){} }, 1200);
      appendMessage('Bot', 'Your query was submitted to the form.');
    }
  } catch (e) {
    console.warn('Google Form submit failed:', e);
  }

  // 2) Fallback / duplicate: send an email via FormSubmit so you get notified reliably
  (async function sendEmailFallback(){
    try {
      const fd = new FormData();
      fd.append('_subject', `Query from ${data.name} â€” ${data.product || 'product'}`);
      const body = [
        `Name: ${data.name}`,
        `Email: ${data.email}`,
        `Phone: ${data.phone}`,
        `Product: ${data.product || 'N/A'}`,
        `Query: ${data.query || 'N/A'}`
      ].join('\n');
      fd.append('message', body);
      fd.append('_next', window.location.href);
      fd.append('_captcha', 'false');
      await fetch('https://formsubmit.co/artcreation170@gmail.com', { method: 'POST', body: fd });
      appendMessage('Bot', 'A copy has been emailed to the store for quick follow-up.');
    } catch (err) {
      console.error('FormSubmit fallback failed', err);
      appendMessage('Bot', 'Unable to send email notification â€” please try again later.');
    }
  })();
}
</script>

  <!-- Bootstrap JS bundle (includes Popper) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
